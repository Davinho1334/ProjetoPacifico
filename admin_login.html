<!doctype html>
<html lang="pt-BR">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Login Administrador</title>
<link rel="stylesheet" href="css/style.css"/>
<link rel="icon" type="image/png" href="https://admin.pi.gov.br/uploads/logowhite_8aeaf326c5.svg"/>
<style>
  :root{--bg-1:#0b0f14;--bg-2:#0e1520;--text:#e8f1ff;--text-muted:#a9b8d1;--primary:#7bd4ff;--primary-2:#6aa8ff;--stroke:rgba(255,255,255,.12)}
  body{background:
    radial-gradient(1000px 700px at 10% -10%, rgba(108,165,255,.15), transparent 60%),
    radial-gradient(900px 600px at 110% 10%, rgba(123,212,255,.12), transparent 55%),
    linear-gradient(180deg, var(--bg-1), var(--bg-2));color:var(--text);font-family:Arial,sans-serif;margin:0}
  header.topbar{
      display:flex;
      align-items:center;
      justify-content:center;
      gap:.75rem;
      padding:1rem;
      background:transparent;
  }

  header.topbar h1{
    color:#fff !important;
    font-weight:700;
    margin:0;
    text-shadow:0 1px 2px rgba(0,0,0,.5);
    letter-spacing:.02em;
  }

  .box{width:min(620px,96vw);margin:8vh auto;padding:28px 24px;border-radius:18px;background:linear-gradient(160deg,rgba(255,255,255,.06),rgba(255,255,255,.02));border:1px solid var(--stroke);backdrop-filter:blur(10px)}
  label{display:grid;gap:8px;font-weight:600}
  input{height:44px;border-radius:12px;border:1px solid rgba(255,255,255,.14);background:linear-gradient(180deg,rgba(255,255,255,.05),rgba(255,255,255,.03));color:var(--text);padding:0 12px}
  .btn{border:1px solid rgba(255,255,255,.10);background:linear-gradient(135deg,var(--primary),var(--primary-2));color:#0b0f14;padding:10px 14px;border-radius:12px;font-weight:700;cursor:pointer}
  .actions{display:flex;gap:10px;justify-content:center;margin-top:10px}
  .msg{margin-top:10px;text-align:center}
</style>
</head>
<body>
<header class="topbar">
  <img src="https://admin.pi.gov.br/uploads/logowhite_8aeaf326c5.svg" alt="" style="height:34px">
  <h1>Portal Escola</h1>
</header>

<main class="box">
  <h2 style="margin:0 0 14px">Login â€” Administrador</h2>
  <form id="login" autocomplete="off" novalidate>
    <label>E-mail
      <input type="email" name="email" required autocomplete="username"/>
    </label>
    <label>Senha
      <input type="password" name="password" required autocomplete="current-password"/>
    </label>
    <div class="actions">
      <button class="btn" type="submit">Entrar</button>
      <a class="btn" href="admin_access.html" style="background:transparent;border-color:var(--primary);color:var(--primary)">Criar administrador</a>
    </div>
    <div id="msg" class="msg"></div>
  </form>
</main>

<script>
document.getElementById('login').addEventListener('submit', async (e)=>{
  e.preventDefault();
  const fd = new FormData(e.target);
  const r  = await fetch('php/admin_login.php',{method:'POST',body:fd,credentials:'same-origin'});
  const t  = await r.text(); let j=null; try{j=JSON.parse(t)}catch{}
  if(j&&j.success){ location.href='admin_dashboard.html'; }
  else document.getElementById('msg').textContent=(j&&j.message)||t||'Erro no login';
});
</script>
</body>
</html>
